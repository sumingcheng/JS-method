<script>
  function PromiseAll(promises) {
    return new Promise((resolve, reject) => {
      const result = []
      let counter = 0
      for (let i = 0; i < promises.length; i ++) {
        Promise.resolve(promises[i]).then(value => {
                  result[i] = value
                  counter ++
                  if (counter === promises.length) {
                    resolve(result)
                  }
                },
                reason => {
                  reject(reason)
                }
        )
      }
    })
  }

  PromiseAll([1, 2, 3, 4, 5])
</script>
